<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
	<!-- This template is for the list of patients for a GP -->
	<ui:composition>
		<h:form rendered="#{sessionScope.role == 'Doctor'}" id="patientsList">
			<h3>Patients</h3>
				<div id = "patientSearch">
						<div id = "patientSearchField">
					        <p:autoComplete id="patientSearch" 
					   					value="#{doctorBean.currentPatient}" 
					   					size="20"
					   					placeholder	="search for patient"
					   					completeMethod="#{doctorController.completeSearch}"
		                        		var="patient" 
		                        		itemLabel="#{patient.theName}" 
		                        		itemValue="#{patient}" 
		                        		converter="userConverter" 
		                        		forceSelection="true">
						        <p:column>
						        		<h:outputText value="#{patient.theName}" />
						        </p:column>
						        <p:column>
						        		<h:outputText value="#{patient.theAddress}" />
						        </p:column>
		        			</p:autoComplete>
				        </div>

				        <div >
					        <p:commandButton value="Show"
					                         action="#{doctorController.showPatient()}"
					                         update="patientDetails prescriptionDetailsSection" />
				        </div>
				</div>
		</h:form>
	</ui:composition>
</html>
