<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"> 
<h:head>
     <title>User Register</title>
</h:head>
<body>
<h:form>
     <h1> Welcome to Dr Care</h1>
      
     <p:messages id="messages" showDetail="true" escape="false"/>
      
   	 <h2>Create your account</h2>
    
     <h:outputLabel>Name</h:outputLabel>
   
    <h:inputText id="username" value="#{userBean.name}" label="username" maxlength="10"            
		size="20" alt="username" autocomplete="off" readonly="false" required="true"              
		requiredMessage="Username is required" />  
 
    <br></br>
    <h:outputLabel>Email</h:outputLabel>
    <h:inputText id="email" value="#{userBean.email}" label="email" maxlength="20"            
		size="20" alt="email" autocomplete="off" readonly="false" required="true"              
		requiredMessage="Email is required"/>  
		
	<br></br>
    <h:outputLabel>Address</h:outputLabel>
    <h:inputText id="address" value="#{userBean.address}" label="address" maxlength="200"            
		size="20" alt="address" autocomplete="off" readonly="false"/>  
  
   <br></br>
   <h:outputLabel>Password</h:outputLabel>
   <h:inputSecret id="pwd" value="#{userBean.password}" label="pwd" maxlength="20"            
		size="20" alt="pwd" autocomplete="off" readonly="false" required="true"              
		requiredMessage="Password is required" />  
 
   <br></br>
   <h:outputLabel>Re-enter Password</h:outputLabel>
   <h:inputSecret id="re-pwd" value="#{userBean.passwordConfirmation}" label="re-pwd" maxlength="20"            
		size="20" alt="re-pwd" autocomplete="off" readonly="false" required="true"              
		requiredMessage="Password is required"/>  

    <br></br>
    <h:outputLabel>Select Role</h:outputLabel>
    <h:selectOneMenu id="hard-dropdown" value="#{userBean.role}" onchange = "submit()">
      	 <f:selectItem itemValue="Patient" itemLabel="Patient"/>
   		 <f:selectItem itemValue="GP" itemLabel="GP"/>
   		 <f:selectItem itemValue="Pharmacist" itemLabel="Pharmacist"/>
	</h:selectOneMenu>
	
	<br></br>
	<h:outputLabel for="licenseNumber" rendered = "#{userBean.role == 'Pharmacist' || userBean.role == 'GP'}">License Number</h:outputLabel>
   	<h:inputText id="licenseNumber" rendered = "#{userBean.role == 'Pharmacist' || userBean.role == 'GP'}" value="#{userBean.licenseNumber}" label="licenseNumber" minlength="9" maxlength="9"            
		size="20" alt="licenseNumber" autocomplete="off" readonly="false"            
		requiredMessage="License number is required"/>  	
	
    <h:outputLabel>By creating an account you agree to our </h:outputLabel>
     <h:outputLink value="#" >Terms </h:outputLink>
	<br></br>
    <h:commandButton id="submit" styleClass="ActionButton" action="#{registrationController.addUser}" value="Register" title="Register"/> 
    <br></br>
 	<h:outputLabel>Already have an account?</h:outputLabel>
   <h:outputLink value="login.jsf" >Sign in</h:outputLink> <br/>
  
</h:form>
</body>
</html>
